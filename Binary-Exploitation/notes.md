# **Binary Exploitation**

## **Notes**:

<br>

We can store 256 values using a byte ranging from [0 - 255] or [0x00 - 0xff].

<br>

### **Significant byte**:

When considering a hexadecimal value like 0x10203040 having 4 bytes, the most significant byte is the starting byte 0x10 and the least significant byte is the last byte 0x40.

<br>

### **Endianness**:

Endianness is the order in which bytes are stored in memory

There are two ways to doing it; big endian and little endian.

BIG ENDIAN:

Storing data starting from the most significant byte

LITTLE ENDIAN:

Storing data starting from the least significant byte

Note: An intel 0x86 architecture follows the little endian.

<br>

### **Stack**:

Last item placed will be the first to be removed from it ( LIFO )

*push* adds an element to the top of the stack , and *pop* removes elements from the top.

```
    /* The address of memory which is pointed by the Stack Pointer ( sp ) is the top of the stack */

    ┌──────────────┐ <─ sp
    └──────────────┘

    : push 0x10                               /* sp is incremented and the value is stored at that address */
    ┌──────────────┐ 
    │     0x10     │
    └──────────────┘ <─ sp

    : push 0x20

    ┌──────────────┐
    │    0x10      │
    ├──────────────┤
    │    0x20      │
    └──────────────┘ <─ sp

    : pop var                                 /* The value pointed by the sp is removed from the stack and sp is decremented */

    ┌──────────────┐ 
    │     0x10     │
    └──────────────┘ <─ sp
```

The stack pointer is a special register which will always point to the top of the stack

In x86-32 bit this register is called **esp**

The area allocated on the stack for a function is called it's stack frame

The registers ebp and esp (in x86-32 bit system )are used to specify the boundaries of the stack frame

The **ebp** will point to the staring of the stack frame of the current function and the **esp** register will point to the bottom

<br>

### **Buffer Overflow and Stack Overflow**:

Buffer Overflow refers to a situation when we are able write past the size of a variable , which results in change of data near them.

When this type of overflow occur in the stack it is called a stack overflow 

With this we can change the value of sensitive variables which are adjacent to the overflow , Also since the return address of a function is stored on the stack we can change the control flow of the program

